<ion-header>
	<ion-navbar color="primary">
		<ion-title>Phiếu yêu cầu</ion-title>
	</ion-navbar>
</ion-header>


<ion-content>

	<ng-container *ngIf="order && customerInfo">
		<ion-card>
			<div>
				<ion-grid>
					<ion-row>
						<ion-col>
							Mã: {{order.OrderId}}
						</ion-col>
						<ion-col>
							Ngày: {{order.CreatedDateDisplay}}
						</ion-col>
					</ion-row>
				</ion-grid>
			</div>
			<ion-card-header color="primary" style="text-align: center; background-color: #ebebe0">
				<strong>
					Thông tin khách hàng
				</strong>
			</ion-card-header>
			<ion-card-content>
				<ion-grid>
					<ion-row>
						<ion-col col-6>
							<h3 ion-text color="primary" class="fw500"><b>Họ tên:</b></h3>
						</ion-col>
						<ion-col col-6>
							<p ion-text>
								{{customerInfo.FullName}}
							</p>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-6>
							<h3 ion-text color="primary" class="fw500"><b>Số điện thoại:</b></h3>
						</ion-col>
						<ion-col col-6>
							<p ion-text>
								{{customerInfo.PhoneNumber}}
							</p>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-6>
							<h3 ion-text color="primary" class="fw500"><b>Địa chỉ:</b></h3>
						</ion-col>
						<ion-col col-6>
							<p ion-text>
								{{customerInfo.Address}}
							</p>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-6>
							<h3 ion-text color="primary" class="fw500"><b>Thời gian đến:</b></h3>
						</ion-col>
						<ion-col col-6>
							<p ion-text>
								{{order.WorkDate}}
							</p>
						</ion-col>
					</ion-row>
					<ion-row>
						<ion-col col-6>
							<h3 ion-text color="primary" class="fw500"><b>Ghi chú:</b></h3>
						</ion-col>
						<ion-col col-6>
							<p ion-text>

							</p>
						</ion-col>
					</ion-row>
				</ion-grid>
			</ion-card-content>
		</ion-card>

		<ion-card>
			<ion-card-header color="primary" style="text-align: center; background-color: #ebebe0">
				<strong>
					Chi tiết dịch vụ
				</strong>
			</ion-card-header>
			<ion-card-content style="color: black">
				<ion-grid>
					<ion-row>
						<ion-col style="text-align: center; font-size: 18px">
							<b>
								Dịch vụ
							</b>
						</ion-col>
						<ion-col style="text-align: center; font-size: 18px">
							<b>
								Giá
							</b>
						</ion-col>
					</ion-row>
					<ng-container *ngFor="let service of services">
						<ion-row>
							<ion-col style="text-align: left;">
								{{service.Service}}
							</ion-col>
							<ion-col style="text-align: right">
								<ng-container *ngIf="service.OrignalPrice > 0">
									{{service.Price}}
								</ng-container>
								<ng-container *ngIf="service.OrignalPrice === 0">
									Liên hệ nhà cung cấp
								</ng-container>
							</ion-col>
						</ion-row>
					</ng-container>
					<ion-row>
						<ion-col style="text-align: left;">
							<b>
								Tổng
							</b>
						</ion-col>
						<ion-col style="text-align: right">
							<b>
								{{order.Total}}
							</b>
						</ion-col>
					</ion-row>
				</ion-grid>
			</ion-card-content>
		</ion-card>

		<div text-center *ngFor="let post of posts | async">
			<ng-container *ngIf="order.IsPaid === false">
				<button ion-button color="secondary" margin-top icon-right full tappable (click)="openCheckoutPage(order)">
					Tiếp tục
					<ion-icon name="cash"></ion-icon>
				</button>
			</ng-container>
			<ng-container *ngIf="order.OrderStatusId === 1">
				<button ion-button color="dark" margin-top tappable (click)="cancelOrder(post)">
					<span style="color: white">Huỷ đơn hàng</span>
				</button>
			</ng-container>
		</div>
		<br/>
	</ng-container>

</ion-content>
